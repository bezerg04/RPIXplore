(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{719:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum/signup",function(){return r(7933)}])},6378:function(e,s,r){"use strict";r.d(s,{Z:function(){return i}});var a=r(5893),t=r(1664),l=r.n(t),n=r(3887);function i(e){let{activeLink:s}=e;return(0,a.jsxs)(n.wp,{fluid:!0,rounded:!0,children:[(0,a.jsxs)(n.wp.Brand,{as:l(),href:"/",children:[(0,a.jsx)("img",{src:"/_next/static/media/logo2.4e69c90b.png",className:"ml-1 mr-2",style:{height:"3.25rem"},alt:"RPIXplore Logo"}),(0,a.jsx)("span",{className:"InterBold text-2xl",children:"RPIXplore"})]}),(0,a.jsx)(n.wp.Toggle,{}),(0,a.jsxs)(n.wp.Collapse,{className:"mr-3",children:[(0,a.jsx)(n.wp.Link,{href:"/",active:"Home"===s,className:"Inter text-base",children:"Home"}),(0,a.jsx)(n.wp.Link,{as:l(),href:"/dorms",active:"Dorms"===s,className:"Inter text-base",children:"Dorms"}),(0,a.jsx)(n.wp.Link,{as:l(),href:"/forum",active:"Forum"===s,className:"Inter text-base",children:"Forum"}),(0,a.jsx)(n.wp.Link,{as:l(),href:"/resources",active:"Resources"===s,className:"Inter text-base",children:"Resources"})]})]})}},1222:function(e,s,r){"use strict";var a=r(5893);r(7294);var t=r(3887),l=r(3349),n=r(8959),i=r(1259);s.Z=()=>{let[e]=(0,l.F_)(n.I),s=async()=>{try{await (0,i.w7)(n.I)}catch(e){console.error("Error signing out:",e)}};return(0,a.jsxs)(t.wp,{children:[(0,a.jsx)(t.wp.Brand,{children:(0,a.jsx)("span",{className:"self-center whitespace-nowrap text-xl font-semibold",children:"Forum"})}),(0,a.jsxs)(t.wp.Collapse,{children:[(0,a.jsx)(t.wp.Link,{href:"/forum",children:"Home"}),!e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.wp.Link,{href:"/forum/signup",children:"Sign Up"}),(0,a.jsx)(t.wp.Link,{href:"/forum/login",children:"Login"})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.wp.Link,{href:"/forum/createpost",children:"Create Post"}),(0,a.jsx)(t.wp.Link,{as:"button",onClick:s,className:" hover:text-red-500",children:"Sign Out"})]})]})]})}},8959:function(e,s,r){"use strict";let a;r.d(s,{A:function(){return d},I:function(){return o},db:function(){return c}});var t=r(3977),l=r(1259),n=r(9828);let i={apiKey:"AIzaSyBrmvcTyLabGCX2dZf9rfNM0XPICO5JBEQ",authDomain:"rpixplore-b9aff.firebaseapp.com",projectId:"rpixplore-b9aff",storageBucket:"rpixplore-b9aff.appspot.com",messagingSenderId:"870529855224",appId:"1:870529855224:web:2478317c3f5caa9577d50d"};console.log("Initializing Firebase with config:",i),(0,t.C6)().length?(a=(0,t.Mq)(),console.log("Firebase app already initialized")):(a=(0,t.ZF)(i),console.log("Firebase app initialized"));let o=(0,l.v0)(a),c=(0,n.ad)(a),d=new l.hJ;console.log("Firebase Auth:",o),console.log("Firebase Firestore:",c),console.log("Firebase Provider:",d)},7933:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return x}});var a=r(5893),t=r(7294),l=r(8959),n=r(1259),i=r(9828),o=r(1163),c=r(6378),d=r(1222),u=r(1726),m=r(6603),h=r(3887);function x(){let e=(0,o.useRouter)(),[s,r]=(0,t.useState)(""),[x,p]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[f,w]=(0,t.useState)("user".concat(Math.random().toString(36).substring(7))),[j,v]=(0,t.useState)("student"),[N,y]=(0,t.useState)((0,u.createAvatar)(m,{seed:"initial"})),[k,S]=(0,t.useState)(null),[C,F]=(0,t.useState)(!1),[I,P]=(0,t.useState)(!1),_=async r=>{if(r.preventDefault(),S(null),x!==g){S("Passwords do not match.");return}if(x.length<6){S("Password must be at least 6 characters.");return}try{let r=(await (0,n.Xb)(l.I,s,x)).user;await (0,i.ET)((0,i.hJ)(l.db,"users"),{uid:r.uid,email:r.email,username:f,role:j,avatar:N,createdAt:(0,i.Bt)()}),e.push("/forum/login")}catch(e){S(e.message)}},L=async()=>{try{let s=(await (0,n.rh)(l.I,l.A)).user;await (0,i.ET)((0,i.hJ)(l.db,"users"),{uid:s.uid,email:s.email,username:"user".concat(Math.random().toString(36).substring(7)),role:j,avatar:(0,u.createAvatar)(m,{seed:"initial"}),createdAt:(0,i.Bt)()}),e.push("/forum")}catch(e){S(e.message)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Z,{activeLink:"Forum"}),(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto mt-8",children:[k&&(0,a.jsx)(h.bZ,{color:"failure",onDismiss:()=>S(null),children:(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Error:"})," ",k]})}),(0,a.jsxs)("form",{onSubmit:_,className:"w-full max-w-md mx-auto bg-white p-8 border border-gray-200 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Sign Up"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-gray-700",children:"Email:"}),(0,a.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>r(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-gray-700",children:"Password:"}),(0,a.jsx)("input",{type:C?"text":"password",id:"password",value:x,onChange:e=>p(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,a.jsx)(h.zx,{type:"button",onClick:()=>F(!C),className:"absolute inset-y-0 right-0 px-2 py-2 text-sm",color:"light",children:C?"Hide":"Show"}),x.length>0&&x.length<6&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:"Password must be at least 6 characters."})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-700",children:"Confirm Password:"}),(0,a.jsx)("input",{type:I?"text":"password",id:"confirmPassword",value:g,onChange:e=>b(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,a.jsx)(h.zx,{type:"button",onClick:()=>P(!I),className:"absolute inset-y-0 right-0 px-3 py-2 text-sm",color:"light",children:I?"Hide":"Show"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-gray-700",children:"Username:"}),(0,a.jsx)("input",{type:"text",id:"username",value:f,onChange:e=>w(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,a.jsx)(h.zx,{type:"button",onClick:()=>w("user".concat(Math.random().toString(36).substring(7))),className:"mt-2",color:"light",children:"Generate"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"role",className:"block text-gray-700",children:"Role:"}),(0,a.jsxs)("select",{id:"role",value:j,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"student",children:"Student"}),(0,a.jsx)("option",{value:"parent",children:"Parent"}),(0,a.jsx)("option",{value:"guest",children:"Guest"})]})]}),(0,a.jsxs)("div",{className:"mb-4 text-center mx-auto w-1/2",children:[(0,a.jsx)("img",{src:"data:image/svg+xml;utf8,".concat(encodeURIComponent(N)),alt:"Avatar",className:"w-24 h-24 mx-auto mb-4"}),(0,a.jsx)(h.zx,{onClick:()=>{y((0,u.createAvatar)(m,{seed:Math.random().toString(36).substring(7)}))},color:"light",className:"text-black",children:"Generate New Avatar"})]}),(0,a.jsx)(h.zx,{type:"submit",className:"w-full mb-4",color:"dark",children:"Sign Up"}),(0,a.jsx)(h.zx,{onClick:L,className:"w-full",color:"light",children:"Sign Up with Google"})]})]})]})}}},function(e){e.O(0,[445,556,16,636,664,275,295,603,888,928,179],function(){return e(e.s=719)}),_N_E=e.O()}]);